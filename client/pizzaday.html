<head>
  <title>PizzaDay</title>
</head>

<body> 
	
</body>

<template name="ApplicationLayout">
  {{> yield "navbar"}}
  {{> yield "main"}}  
</template>

<template name="welcome">
  <div class="container">
    <div class="jumbotron">
      <h1>Welcome to PizzaDay {{username}}!</h1>
      <a href="/landing" class="btn btn-info">ENTER</a>
    </div>
  </div>
</template> 

<template name="landing">
	<div class="container top-margin">  	
	 	 <div class="row">
			{{> userlist}}
			{{> buttons}}
	  </div>	  	
	</div>    
</template>


<template name="navbar">
			
		<nav class="navbar navbar-default navbar-fixed-top">
			<a class="navbar-brand" href="/">PizzaDay</a>		 
		  <div class="container">
		  	<ul class="nav navbar-nav">
		  		<li><a href="/landing">Home</a></li>
		  		<li><a href="/menu">Menu</a></li>		  		   		
		   	</ul>
		   	<ul class="nav navbar-nav navbar-right">
          <li>{{> loginButtons}}</li>		
        </ul>      	
		  </div>   	  
		</nav>		
		
</template>

<template name="groupe">
  <div class="container top-margin">
  	<div class="row">
  		<div class="jumbotron">
			  <h2>Groupe: "{{groupName}}"</h2>
			  <h4>Admin is {{creator}}</h4>
			  {{#if isevent}}
			  <h4>Next Pizza Day will be {{eventdate}}</h4>
			  {{/if}}
		  </div>
			{{> userlist}}
			{{> addEvent}}
		</div>  
	</div>
</template>

<template name="menu">
	<div class="container top-margin">
		<div class="row">
			<div class="col-xs-6 col-sm-6 col-md-6">
				{{#each menu}}
			  	<div class="col-xs-12 col-sm-12 col-md-12">
			  		<h4>{{dish}} - {{price}}$</h4><a class="btn btn-info order" href="#">Order</a>
			  	</div>
				{{/each}}			
			</div>
			<div class="col-xs-6 col-sm-3 col-md-3 top-margin">
				<h1>Add a dish to the menu</h1>
        {{> dishadd_form}}
			</div>
		</div>
	</div>	
</template>

<template name="dishadd_form">    
    <a class="btn btn-default js-toggle-form" href="#">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    </a>    
    <div id="dishadd_form" class="hidden_div">
        <form class="js-form">
            <div class="form-group">
                <label for="dishname">Dish name</label>
                <input type="text" class="form-control" id="dishname" placeholder="Pizza" name="dishname">
            </div>           
            <div class="form-group">
                <label for="price">Price, $</label>
                <input type="number" class="form-control" id="price"  name="price">
            </div>
            <button type="submit" class="btn btn-success">Add dish</button>
        </form>
    </div>
</template>

<template name="userlist">
	<div class="col-xs-3 col-sm-4 col-md-4">
		<div class="table-responsive">
		  	<table class="table">
		  		<thead>
			    	<tr>
				  		<th>Username</th>				  		
				  	</tr>
			  	</thead>
 		  	</table>
				{{#each user}}
			  	<ul>
			  		<li>
			  		{{username}}<a class="btn btn-info addtogroupe" href="#">Add to groupe</a>
			  		</li>
			  	</ul>				  
				{{/each}}				
		</div>		  	
	</div>		
</template>


<template name="buttons">
	<div class="col-xs-9 col-sm-10 col-md-10">
		{{> groupeList}}
		<div class="col-xs-4 col-sm-5 col-md-5">
		  {{#if currentUser}}
	      <form class="createGroupe">
	        <input type="text" name="text" placeholder="Type name of groupe" />
	      </form>
	    {{/if}}
		</div>

	</div>
</template>

<template name="groupeList">
	<div class="col-xs-3 col-sm-3 col-md-3">
		<div class="table-responsive">
		  	<table class="table">
		  		<thead>
			    	<tr>
				  		<th>Groups</th>				  		
				  	</tr>
			  	</thead>
 		  	</table>
				{{#each groupeNames}}
			  	<ul>
			  		<li><a class="idadd" href="/groups/{{_id}}">{{groupName}}</a>
			  			<button class="btn btn-danger delete">&times;</button>
			  		</li>
			  	</ul>				  
				{{/each}}				
		</div>		  	
	</div>		
</template>

<template name="addEvent">
	<div class="col-xs-3 col-sm-3 col-md-3">
		<form class="js-addevent-form">
			<div class="form-group">
	      <label for="eventdate">Choose event date</label>
	      <input type="date" class="form-control" id="eventdate"  name="eventdate">
	    </div>
	    <button type="submit" class="btn btn-success">Create an Event</button>
    </form>
	</div>		
</template>

